<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout</title>
  
  <link rel="stylesheet" href="css/style.css">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style> body { background: #eef5ff; } </style>
</head>
<body>

<div class="container mt-4">

  <h3 class="fw-bold text-primary">ğŸ›’ Pemesanan Buku</h3>

  <div class="card p-4 shadow-sm mt-3">
    <h5 class="fw-bold text-primary">ğŸ“š Pilih Buku</h5>
    <select id="pilihBuku" class="form-select mt-2"></select>
    <button onclick="tambahKeKeranjang()" class="btn btn-primary w-100 mt-3">Tambahkan ke Keranjang</button>
  </div>

  <div class="card p-4 mt-4 shadow-sm">
    <h5 class="fw-bold text-primary">ğŸ§¾ Keranjang Pesanan</h5>
    <table class="table table-bordered mt-3">
      <thead class="table-primary">
        <tr><th>Nama Buku</th><th>Harga</th><th>Aksi</th></tr>
      </thead>
      <tbody id="tabelKeranjang"></tbody>
    </table>
  </div>

  <div class="card p-4 mt-4 shadow-sm">
    <h5 class="fw-bold text-primary">ğŸ§ Data Pemesan</h5>
    <input id="nama" class="form-control mt-2" placeholder="Nama Pemesan">
    <input id="hp" class="form-control mt-2" placeholder="Nomor HP">
    <textarea id="alamat" class="form-control mt-2" placeholder="Alamat"></textarea>
    <button onclick="prosesPesanan()" class="btn btn-success mt-3 w-100">Proses Pemesanan</button>
  </div>

</div>

<script src="js/data.js"></script>
<script>
  let keranjang = [];

  function loadPilihanBuku() {
    dataKatalogBuku.forEach(buku => {
      document.getElementById("pilihBuku").innerHTML += `
        <option value="${buku.namaBarang}" data-harga="${buku.harga}">
          ${buku.namaBarang} (${buku.harga})
        </option>`;
    });
  }
  loadPilihanBuku();

  function tambahKeKeranjang() {
    let select = document.getElementById("pilihBuku");
    let nama = select.value;
    let harga = select.options[select.selectedIndex].dataset.harga;

    keranjang.push({ nama, harga });

    document.getElementById("tabelKeranjang").innerHTML += `
      <tr>
        <td>${nama}</td>
        <td>${harga}</td>
        <td><button class="btn btn-danger btn-sm" onclick="hapusItem(this)">Hapus</button></td>
      </tr>`;
  }

  function hapusItem(btn) {
    btn.parentElement.parentElement.remove();
  }

  function prosesPesanan() {
    if (keranjang.length === 0) return alert("Tambahkan buku ke keranjang dulu!");
    alert("âœ… Pesanan berhasil dikirim! (simulasi)");
  }
</script>

</body>
</html>